How to build a simple service in WAVES-core
===========================================

Here you can follow a step by step process to create your first "hello world" service on your local, from scratch.
We assume WAVES-core is installed (see :ref:`installation-label`)

Add a Computing infrastructure
------------------------------

in WAVES CORE menu, click on "Add". you will see the "Add Computing infrastructure" page.
A second way is to click on "Computing infrastructure" and on the top right button "ADD COMPUTING INFRASTRUCTURE" of the listing page.

Click "Show" behind "Main"

Give a name for your infrastructure. Caution, this label will be display later on services forms, choose a comprehensive name.
Leave it empty if automatic label suit you.

    **Run on:**
    select "Local script", the label is automatically filled with "LocalShellAdaptor".

Click "Save".

To be sure, you can "TEST CONNECTION" by clicking on top right test button.


Add a Service
-------------
Go back to main menu, click "Add" on "Services" line or click "Services" and "ADD SERVICE" on the top right of the listing page.

Just give a name to your service :

    **Service name:** SayHello

And select an infrastructure (this one we've just created) :

    **Computing infrastructure:** LocalShellAdaptor

Click "Save and continue editing".

Click "Show" behind "Execution parameters".

Add the command the service have to execute:

    **command:** echo

Click "Save and continue editing".

Now, this service is configure to pass the command "echo" on a local shell.

This command need an input (the string to echo), *submission* is here to configure this.


Modify Submission methods
-------------------------
Click "Show" behind "Submission methods".

Click "Change" on top left of the default method line.

Click "Show" behind "Inputs"

Click "Add another input", a new window popup

Choose "Text Input" and "SAVE" on popup window

Fill the "Add Text Input" form :

    **Label:** Some words
    **Parameter name:** value
    **Command line format:** Positional parameter: value

Click "SAVE", the popup window close

Click "Save and back"

Your new service is created. You can try it right now !

Try your new service
--------------------
Click "PREVIEW" on top right buttons

the popup window show you the form automatically generated by WAVES-core.

    **Some words:** Hello world

Remember the name of your analysis or the id created on submit.

Click "Submit a job", the message "Job successfully submitted xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx" appear

Click the bottom right button "Close"

Now, you want to know if your job is well executed.

Follow the Job execution
------------------------
Click "JOBS" on top right buttons

This page list all the jobs, find yours by the ID or name previously noted.

Click "VIEW ON WEBSITE" on top right buttons

Look at job details, on "Standard output" you can note your "Hello world" was echoed successfully.
